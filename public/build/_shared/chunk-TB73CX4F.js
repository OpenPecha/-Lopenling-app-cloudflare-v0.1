import{a as B}from"/build/_shared/chunk-I6B64LB6.js";import{e as R}from"/build/_shared/chunk-ADMCF34Z.js";var C=R(B(),1);var $=new Set,d=new WeakMap,y=new WeakMap,m=new WeakMap,W=new WeakMap,D=new WeakMap,E=new WeakMap,T=new WeakMap,O=new WeakSet,v,l="__aa_tgt",A="__aa_del",F=t=>{let e=Y(t);e&&e.forEach(n=>Q(n))},I=t=>{t.forEach(e=>{e.target===v&&H(),d.has(e.target)&&b(e.target)})};function q(t){let e=W.get(t);e?.disconnect();let n=d.get(t),o=0,i=5;n||(n=M(t),d.set(t,n));let{offsetWidth:s,offsetHeight:r}=v,u=[n.top-i,s-(n.left+i+n.width),r-(n.top+i+n.height),n.left-i].map(p=>`${-1*Math.floor(p)}px`).join(" "),c=new IntersectionObserver(()=>{++o>1&&b(t)},{root:v,threshold:1,rootMargin:u});c.observe(t),W.set(t,c)}function b(t){clearTimeout(T.get(t));let e=x(t),n=typeof e=="function"?500:e.duration;T.set(t,setTimeout(async()=>{let o=m.get(t);try{await o?.finished,d.set(t,M(t)),q(t)}catch{}},n))}function H(){clearTimeout(T.get(v)),T.set(v,setTimeout(()=>{$.forEach(t=>_(t,e=>L(()=>b(e))))},100))}function X(t){setTimeout(()=>{D.set(t,setInterval(()=>L(b.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function L(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}var P,w;typeof window<"u"&&(v=document.documentElement,P=new MutationObserver(F),w=new ResizeObserver(I),w.observe(v));function Y(t){return t.reduce((o,i)=>[...o,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(o=>o.nodeName==="#comment")?!1:t.reduce((o,i)=>{if(o===!1)return!1;if(i.target instanceof Element){if(N(i.target),!o.has(i.target)){o.add(i.target);for(let s=0;s<i.target.children.length;s++){let r=i.target.children.item(s);if(!!r){if(A in r)return!1;N(i.target,r),o.add(r)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){let r=i.removedNodes[s];if(A in r)return!1;r instanceof Element&&(o.add(r),N(i.target,r),y.set(r,[i.previousSibling,i.nextSibling]))}}return o},new Set)}function N(t,e){!e&&!(l in t)?Object.defineProperty(t,l,{value:t}):e&&!(l in e)&&Object.defineProperty(e,l,{value:t})}function Q(t){var e;let n=t.isConnected,o=d.has(t);n&&y.has(t)&&y.delete(t),m.has(t)&&((e=m.get(t))===null||e===void 0||e.cancel()),o&&n?U(t):o&&!n?V(t):G(t)}function f(t){return Number(t.replace(/[^0-9.\-]/g,""))}function M(t){let e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function k(t,e,n){let o=e.width,i=e.height,s=n.width,r=n.height,a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){let c=f(a.paddingTop)+f(a.paddingBottom)+f(a.borderTopWidth)+f(a.borderBottomWidth),p=f(a.paddingLeft)+f(a.paddingRight)+f(a.borderRightWidth)+f(a.borderLeftWidth);o-=p,s-=p,i-=c,r-=c}return[o,s,i,r].map(Math.round)}function x(t){return l in t&&E.has(t[l])?E.get(t[l]):{duration:250,easing:"ease-in-out"}}function z(t){if(l in t)return t[l]}function S(t){let e=z(t);return e?O.has(e):!1}function _(t,...e){e.forEach(n=>n(t,E.has(t)));for(let n=0;n<t.children.length;n++){let o=t.children.item(n);o&&e.forEach(i=>i(o,E.has(o)))}}function U(t){let e=d.get(t),n=M(t);if(!S(t))return d.set(t,n);let o;if(!e)return;let i=x(t);if(typeof i!="function"){let s=e.left-n.left,r=e.top-n.top,[a,u,c,p]=k(t,e,n),h={transform:`translate(${s}px, ${r}px)`},g={transform:"translate(0, 0)"};a!==u&&(h.width=`${a}px`,g.width=`${u}px`),c!==p&&(h.height=`${c}px`,g.height=`${p}px`),o=t.animate([h,g],{duration:i.duration,easing:i.easing})}else o=new Animation(i(t,"remain",e,n)),o.play();m.set(t,o),d.set(t,n),o.addEventListener("finish",b.bind(null,t))}function G(t){let e=M(t);d.set(t,e);let n=x(t);if(!S(t))return;let o;typeof n!="function"?o=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(o=new Animation(n(t,"add",e)),o.play()),m.set(t,o),o.addEventListener("finish",b.bind(null,t))}function V(t){var e;if(!y.has(t)||!d.has(t))return;let[n,o]=y.get(t);Object.defineProperty(t,A,{value:!0}),o&&o.parentNode&&o.parentNode instanceof Element?o.parentNode.insertBefore(t,o):n&&n.parentNode?n.parentNode.appendChild(t):(e=z(t))===null||e===void 0||e.appendChild(t);function i(){var g;t.remove(),d.delete(t),y.delete(t),m.delete(t),(g=W.get(t))===null||g===void 0||g.disconnect()}if(!S(t))return i();let[s,r,a,u]=J(t),c=x(t),p=d.get(t),h;Object.assign(t.style,{position:"absolute",top:`${s}px`,left:`${r}px`,width:`${a}px`,height:`${u}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof c!="function"?h=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:c.duration,easing:"ease-out"}):(h=new Animation(c(t,"remove",p)),h.play()),m.set(t,h),h.addEventListener("finish",i)}function J(t){let e=d.get(t),[n,,o]=k(t,e,M(t)),i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);let s=getComputedStyle(i),r=d.get(i)||M(i),a=Math.round(e.top-r.top)-f(s.borderTopWidth),u=Math.round(e.left-r.left)-f(s.borderLeftWidth);return[a,u,n,o]}function j(t,e={}){return P&&w&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof e!="function"&&!e.disrespectUserMotionPreference||(O.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),_(t,b,X,i=>w?.observe(i)),typeof e=="function"?E.set(t,e):E.set(t,{duration:250,easing:"ease-in-out",...e}),P.observe(t,{childList:!0}),$.add(t))),Object.freeze({parent:t,enable:()=>{O.add(t)},disable:()=>{O.delete(t)},isEnabled:()=>O.has(t)})}function tt(t){let[e,n]=(0,C.useState)();return[(0,C.useCallback)(s=>{s instanceof HTMLElement?n(j(s,t)):n(void 0)},[]),s=>{e&&(s?e.enable():e.disable())}]}export{tt as a};
