import{A as ce,B as A,i as ie,t as le,w as E,y as q,z as ue}from"/build/_shared/chunk-I6B64LB6.js";import{b as f,c as se,d as pt,e as ae}from"/build/_shared/chunk-ADMCF34Z.js";async function O(t){return{message:t.message,stack:t.stack}}function z(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)E(o)?n[r]={...o,__type:"RouteErrorResponse"}:o instanceof Error?n[r]={message:o.message,stack:o.stack,__type:"Error"}:n[r]=o;return n}var j=f(()=>{A();});function he(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function g(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function B(t){return mt.has(t)}function pe(t){return B(t.status)}function yt(t){return t!=null&&typeof t.then=="function"&&t._tracked===!0}function me(t,e){let n=new TextEncoder;return new ReadableStream({async start(o){let s={},a=[];for(let[l,u]of Object.entries(t.data))yt(u)?(s[l]=`${wt}${l}`,(typeof u._data<"u"||typeof u._error<"u")&&a.push(l)):s[l]=u;o.enqueue(n.encode(JSON.stringify(s)+`

`));for(let l of a)fe(o,n,l,t.data[l]);let i=t.subscribe((l,u)=>{u&&fe(o,n,u,t.data[u])});await t.resolveData(e),i(),o.close()}})}function fe(t,e,n,r){"_error"in r?t.enqueue(e.encode("error:"+JSON.stringify({[n]:O(r._error)})+`

`)):t.enqueue(e.encode("data:"+JSON.stringify({[n]:r._data??null})+`

`))}var x,de,H,mt,wt,I=f(()=>{A();j();x=(t,e={})=>{let n=typeof e=="number"?{status:e}:e,r=new Headers(n.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),{...n,headers:r})},de=(t,e={})=>{let n=typeof e=="number"?{status:e}:e,r=new Headers(n.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),le(t,{...n,headers:r})},H=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})};mt=new Set([301,302,303,307,308]);wt="__deferred_promise:"});var ye=se(N=>{"use strict";N.parse=St;N.serialize=_t;var gt=decodeURIComponent,xt=encodeURIComponent,U=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function St(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var n={},r=e||{},o=t.split(";"),s=r.decode||gt,a=0;a<o.length;a++){var i=o[a],l=i.indexOf("=");if(!(l<0)){var u=i.substring(0,l).trim();if(n[u]==null){var c=i.substring(l+1,i.length).trim();c[0]==='"'&&(c=c.slice(1,-1)),n[u]=Rt(c,s)}}}return n}function _t(t,e,n){var r=n||{},o=r.encode||xt;if(typeof o!="function")throw new TypeError("option encode is invalid");if(!U.test(t))throw new TypeError("argument name is invalid");var s=o(e);if(s&&!U.test(s))throw new TypeError("argument val is invalid");var a=t+"="+s;if(r.maxAge!=null){var i=r.maxAge-0;if(isNaN(i)||!isFinite(i))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(i)}if(r.domain){if(!U.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!U.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function Rt(t,e){try{return e(t)}catch{return t}}});function L(t,e){!t&&!we[e]&&(we[e]=!0,console.warn(e))}var we,$=f(()=>{we={}});async function vt(t,e,n){let r=Ct(e);return n.length>0&&(r=await t(r,n[0])),r}async function kt(t,e,n){if(n.length>0){for(let r of n){let o=await t(e,r);if(o!==!1)return ge(o)}return null}return ge(e)}function Ct(t){return btoa(bt(encodeURIComponent(JSON.stringify(t))))}function ge(t){try{return JSON.parse(decodeURIComponent(Et(atob(t))))}catch{return{}}}function Et(t){let e=t.toString(),n="",r=0,o,s;for(;r<e.length;)o=e.charAt(r++),/[\w*+\-./@]/.exec(o)?n+=o:(s=o.charCodeAt(0),s<256?n+="%"+xe(s,2):n+="%u"+xe(s,4).toUpperCase());return n}function xe(t,e){let n=t.toString(16);for(;n.length<e;)n="0"+n;return n}function bt(t){let e=t.toString(),n="",r=0,o,s;for(;r<e.length;){if(o=e.charAt(r++),o==="%"){if(e.charAt(r)==="u"){if(s=e.slice(r+1,r+5),/^[\da-f]{4}$/i.exec(s)){n+=String.fromCharCode(parseInt(s,16)),r+=5;continue}}else if(s=e.slice(r,r+2),/^[\da-f]{2}$/i.exec(s)){n+=String.fromCharCode(parseInt(s,16)),r+=2;continue}}n+=o}return n}function Dt(t,e){L(!e,`The "${t}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}var F,Se,_,M=f(()=>{F=ae(ye());$();Se=({sign:t,unsign:e})=>(n,r={})=>{let{secrets:o,...s}={secrets:[],path:"/",sameSite:"lax",...r};return Dt(n,s.expires),{get name(){return n},get isSigned(){return o.length>0},get expires(){return typeof s.maxAge<"u"?new Date(Date.now()+s.maxAge*1e3):s.expires},async parse(a,i){if(!a)return null;let l=(0,F.parse)(a,{...s,...i});return n in l?l[n]===""?"":await kt(e,l[n],o):null},async serialize(a,i){return(0,F.serialize)(n,a===""?"":await vt(t,a,o),{...s,...i})}}},_=t=>t!=null&&typeof t.name=="string"&&typeof t.isSigned=="boolean"&&typeof t.parse=="function"&&typeof t.serialize=="function"});function R(t){let e=unescape(encodeURIComponent(t));return Uint8Array.from(e,(n,r)=>e.charCodeAt(r))}function V(t){let e=String.fromCharCode.apply(null,t);return decodeURIComponent(escape(e))}function v(...t){let e=new Uint8Array(t.reduce((r,o)=>r+o.length,0)),n=0;for(let r of t)e.set(r,n),n+=r.length;return e}function _e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var J=f(()=>{});function Re(t){return t instanceof Uint8Array?e=>t[e]:t}function X(t,e,n,r,o){let s=Re(t),a=Re(n);for(let i=0;i<o;++i)if(s(e+i)!==a(r+i))return!1;return!0}function Tt(t){let e=new Array(256).fill(t.length);if(t.length>1)for(let n=0;n<t.length-1;n++)e[t[n]]=t.length-1-n;return e}var y,S,P,ve,ke,Ce=f(()=>{J();y=Symbol("Match"),S=class{constructor(e){this._lookbehind=new Uint8Array,typeof e=="string"?this._needle=e=R(e):this._needle=e,this._lastChar=e[e.length-1],this._occ=Tt(e)}feed(e){let n=0,r,o=[];for(;n!==e.length;)[n,...r]=this._feed(e,n),o.push(...r);return o}end(){let e=this._lookbehind;return this._lookbehind=new Uint8Array,e}_feed(e,n){let r=[],o=-this._lookbehind.length;if(o<0){for(;o<0&&o<=e.length-this._needle.length;){let s=this._charAt(e,o+this._needle.length-1);if(s===this._lastChar&&this._memcmp(e,o,this._needle.length-1))return o>-this._lookbehind.length&&r.push(this._lookbehind.slice(0,this._lookbehind.length+o)),r.push(y),this._lookbehind=new Uint8Array,[o+this._needle.length,...r];o+=this._occ[s]}if(o<0)for(;o<0&&!this._memcmp(e,o,e.length-o);)o++;if(o>=0)r.push(this._lookbehind),this._lookbehind=new Uint8Array;else{let s=this._lookbehind.length+o;return s>0&&(r.push(this._lookbehind.slice(0,s)),this._lookbehind=this._lookbehind.slice(s)),this._lookbehind=Uint8Array.from(new Array(this._lookbehind.length+e.length),(a,i)=>this._charAt(e,i-this._lookbehind.length)),[e.length,...r]}}for(o+=n;o<=e.length-this._needle.length;){let s=e[o+this._needle.length-1];if(s===this._lastChar&&e[o]===this._needle[0]&&X(this._needle,0,e,o,this._needle.length-1))return o>n&&r.push(e.slice(n,o)),r.push(y),[o+this._needle.length,...r];o+=this._occ[s]}if(o<e.length){for(;o<e.length&&(e[o]!==this._needle[0]||!X(e,o,this._needle,0,e.length-o));)++o;o<e.length&&(this._lookbehind=e.slice(o))}return o>0&&r.push(e.slice(n,o<e.length?o:e.length)),[e.length,...r]}_charAt(e,n){return n<0?this._lookbehind[this._lookbehind.length+n]:e[n]}_memcmp(e,n,r){return X(this._charAt.bind(this,e),n,this._needle,0,r)}},P=class{constructor(e,n){this._readableStream=n,this._search=new S(e)}async*[Symbol.asyncIterator](){let e=this._readableStream.getReader();try{for(;;){let r=await e.read();if(r.done)break;yield*this._search.feed(r.value)}let n=this._search.end();n.length&&(yield n)}finally{e.releaseLock()}}},ve=Symbol("End of Queue"),ke=class{constructor(e){this._chunksQueue=[],this._closed=!1,this._search=new S(e)}push(...e){if(this._closed)throw new Error("cannot call push after close");this._chunksQueue.push(...e),this._notify&&this._notify()}close(){if(this._closed)throw new Error("close was already called");this._closed=!0,this._chunksQueue.push(ve),this._notify&&this._notify()}async*[Symbol.asyncIterator](){for(;;){let n;for(;!(n=this._chunksQueue.shift());)await new Promise(r=>this._notify=r),this._notify=void 0;if(n===ve)break;yield*this._search.feed(n)}let e=this._search.end();e.length&&(yield e)}}});function Ot(t){let e=t.split(";").map(r=>r.trim());if(e.shift()!=="form-data")throw new Error('malformed content-disposition header: missing "form-data" in `'+JSON.stringify(e)+"`");let n={};for(let r of e){let o=r.split("=",2);if(o.length!==2)throw new Error("malformed content-disposition header: key-value pair not found - "+r+" in `"+t+"`");let[s,a]=o;if(a[0]==='"'&&a[a.length-1]==='"')n[s]=a.slice(1,-1).replace(/\\"/g,'"');else if(a[0]!=='"'&&a[a.length-1]!=='"')n[s]=a;else if(a[0]==='"'&&a[a.length-1]!=='"'||a[0]!=='"'&&a[a.length-1]==='"')throw new Error("malformed content-disposition header: mismatched quotations in `"+t+"`")}if(!n.name)throw new Error("malformed content-disposition header: missing field name in `"+t+"`");return n}function Ht(t){let e=[],n=!1,r;for(;typeof(r=t.shift())<"u";){let o=r.indexOf(":");if(o===-1)throw new Error("malformed multipart-form header: missing colon");let s=r.slice(0,o).trim().toLowerCase(),a=r.slice(o+1).trim();switch(s){case"content-disposition":n=!0,e.push(...Object.entries(Ot(a)));break;case"content-type":e.push(["contentType",a])}}if(!n)throw new Error("malformed multipart-form header: missing content-disposition");return Object.fromEntries(e)}async function It(t,e){let n=!0,r=!1,o=[[]],s=new S(b);for(;;){let a=await t.next();if(a.done)throw new Error("malformed multipart-form data: unexpected end of stream");if(n&&a.value!==y&&_e(a.value.slice(0,2),Ee))return[void 0,new Uint8Array];let i;if(a.value!==y)i=a.value;else if(!r)i=e;else throw new Error("malformed multipart-form data: unexpected boundary");if(!i.length)continue;n&&(n=!1);let l=s.feed(i);for(let[u,c]of l.entries()){let d=c===y;if(!(!d&&!c.length)){if(r&&d)return l.push(s.end()),[o.filter(m=>m.length).map(At).map(V),v(...l.slice(u+1).map(m=>m===y?b:m))];(r=d)?o.push([]):o[o.length-1].push(c)}}}}async function*be(t,e){let n=v(Ee,R(e)),r=new P(n,t)[Symbol.asyncIterator]();for(;;){let s=await r.next();if(s.done)return;if(s.value===y)break}let o=new S(b);for(;;){let u=function(h){let w=[];for(let oe of o.feed(h))l&&w.push(b),(l=oe===y)||w.push(oe);return v(...w)},[s,a]=await It(r,n);if(!s)return;async function i(){let h=await r.next();if(h.done)throw new Error("malformed multipart-form data: unexpected end of stream");return h}let l=!1,c=!1;async function d(){let h=await i(),w;if(h.value!==y)w=h.value;else if(!l)w=b;else return c=!0,{value:o.end()};return{value:u(w)}}let m=[{value:u(a)}];for(yield{...Ht(s),data:{[Symbol.asyncIterator](){return this},async next(){for(;;){let h=m.shift();if(!h)break;if(h.value.length>0)return h}for(;;){if(c)return{done:c,value:void 0};let h=await d();if(h.value.length>0)return h}}}};!c;)m.push(await d())}}var At,Ee,b,De=f(()=>{Ce();J();At=Function.prototype.apply.bind(v,void 0),Ee=R("--"),b=R(`\r
`)});function Te(...t){return async e=>{for(let n of t){let r=await n(e);if(typeof r<"u"&&r!==null)return r}}}async function Ae(t,e){let n=t.headers.get("Content-Type")||"",[r,o]=n.split(/\s*;\s*boundary=/);if(!t.body||!o||r!=="multipart/form-data")throw new TypeError("Could not parse content as FormData.");let s=new FormData,a=be(t.body,o);for await(let i of a){if(i.done)break;typeof i.filename=="string"&&(i.filename=i.filename.split(/[/\\]/).pop());let l=await e(i);typeof l<"u"&&l!==null&&s.append(i.name,l)}return s}var Oe=f(()=>{De();});function He(t){return Object.keys(t).reduce((e,n)=>(e[n]=t[n].module,e),{})}var Ie=f(()=>{});var Le=se((ir,D)=>{"use strict";var k={decodeValues:!0,map:!1,silent:!1};function Q(t){return typeof t=="string"&&!!t.trim()}function W(t,e){var n=t.split(";").filter(Q),r=n.shift(),o=Ut(r),s=o.name,a=o.value;e=e?Object.assign({},k,e):k;try{a=e.decodeValues?decodeURIComponent(a):a}catch(l){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+a+"'. Set options.decodeValues to false to disable this feature.",l)}var i={name:s,value:a};return n.forEach(function(l){var u=l.split("="),c=u.shift().trimLeft().toLowerCase(),d=u.join("=");c==="expires"?i.expires=new Date(d):c==="max-age"?i.maxAge=parseInt(d,10):c==="secure"?i.secure=!0:c==="httponly"?i.httpOnly=!0:c==="samesite"?i.sameSite=d:i[c]=d}),i}function Ut(t){var e="",n="",r=t.split("=");return r.length>1?(e=r.shift(),n=r.join("=")):n=t,{name:e,value:n}}function Ue(t,e){if(e=e?Object.assign({},k,e):k,!t)return e.map?{}:[];if(t.headers&&t.headers["set-cookie"])t=t.headers["set-cookie"];else if(t.headers){var n=t.headers[Object.keys(t.headers).find(function(o){return o.toLowerCase()==="set-cookie"})];!n&&t.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),t=n}if(Array.isArray(t)||(t=[t]),e=e?Object.assign({},k,e):k,e.map){var r={};return t.filter(Q).reduce(function(o,s){var a=W(s,e);return o[a.name]=a,o},r)}else return t.filter(Q).map(function(o){return W(o,e)})}function Lt(t){if(Array.isArray(t))return t;if(typeof t!="string")return[];var e=[],n=0,r,o,s,a,i;function l(){for(;n<t.length&&/\s/.test(t.charAt(n));)n+=1;return n<t.length}function u(){return o=t.charAt(n),o!=="="&&o!==";"&&o!==","}for(;n<t.length;){for(r=n,i=!1;l();)if(o=t.charAt(n),o===","){for(s=n,n+=1,l(),a=n;n<t.length&&u();)n+=1;n<t.length&&t.charAt(n)==="="?(i=!0,n=a,e.push(t.substring(r,s)),r=n):n=s+1}else n+=1;(!i||n>=t.length)&&e.push(t.substring(r,t.length))}return e}D.exports=Ue;D.exports.parse=Ue;D.exports.parseString=W;D.exports.splitCookiesString=Lt});function Me(t,e){return(e.errors?e.matches.slice(0,e.matches.findIndex(r=>e.errors[r.route.id])+1):e.matches).reduce((r,o)=>{let{id:s}=o.route,a=t.routes[s].module,i=e.loaderHeaders[s]||new Headers,l=e.actionHeaders[s]||new Headers,u=new Headers(a.headers?typeof a.headers=="function"?a.headers({loaderHeaders:i,parentHeaders:r,actionHeaders:l}):a.headers:void 0);return Y(l,u),Y(i,u),Y(r,u),u},new Headers)}function Y(t,e){let n=t.get("Set-Cookie");n&&(0,Fe.splitCookiesString)(n).forEach(o=>{e.append("Set-Cookie",o)})}var Fe,Pe=f(()=>{Fe=ae(Le());});function qe(t,e){if(t===!1||t===null||typeof t>"u")throw console.error("The following error is a bug in Remix; please open an issue! https://github.com/remix-run/remix/issues/new"),new Error(e)}var ze=f(()=>{});function je(t){return t===p.Development||t===p.Production||t===p.Test}var p,Be=f(()=>{(function(t){t.Development="development",t.Production="production",t.Test="test"})(p||(p={}))});function Ne(t,e){let n=ie(t,e);return n?n.map(r=>({params:r.params,pathname:r.pathname,route:r.route})):null}var $e=f(()=>{A();});async function Ve({loadContext:t,action:e,params:n,request:r,routeId:o}){let s=await e({request:Qe(Xe(r)),context:t,params:n});if(s===void 0)throw new Error(`You defined an action for route "${o}" but didn't return anything from your \`action\` function. Please return a value or \`null\`.`);return g(s)?s:x(s)}async function Je({loadContext:t,loader:e,params:n,request:r,routeId:o}){let s=await e({request:Qe(Xe(r)),context:t,params:n});if(s===void 0)throw new Error(`You defined a loader for route "${o}" but didn't return anything from your \`loader\` function. Please return a value or \`null\`.`);return he(s)?s.init&&B(s.init.status||200)?H(new Headers(s.init.headers).get("Location"),s.init):s:g(s)?s:x(s)}function Xe(t){let e=new URL(t.url),n=e.searchParams.getAll("index");e.searchParams.delete("index");let r=[];for(let o of n)o&&r.push(o);for(let o of r)e.searchParams.append("index",o);return new Request(e.href,t)}function Qe(t){let e=new URL(t.url);return e.searchParams.delete("_data"),new Request(e.href,t)}var We=f(()=>{I();});function K(t,e){return Object.entries(t).filter(([,n])=>n.parentId===e).map(([n,r])=>({...r,children:K(t,n)}))}function G(t,e,n){return Object.values(t).filter(r=>r.parentId===n).map(r=>{let s={hasErrorBoundary:e.v2_errorBoundary===!0?r.id==="root"||r.module.ErrorBoundary!=null:r.id==="root"||r.module.CatchBoundary!=null||r.module.ErrorBoundary!=null,id:r.id,path:r.path,loader:r.module.loader?a=>Je({request:a.request,params:a.params,loadContext:a.context,loader:r.module.loader,routeId:r.id}):void 0,action:r.module.action?a=>Ve({request:a.request,params:a.params,loadContext:a.context,action:r.module.action,routeId:r.id}):void 0,handle:r.module.handle};return r.index?{index:!0,...s}:{caseSensitive:r.caseSensitive,children:G(t,e,r.id),...s}})}var Ye=f(()=>{We();});function Ke(t){return t.replace(Mt,e=>Ft[e])}var Ft,Mt,Ge=f(()=>{Ft={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},Mt=/[&><\u2028\u2029]/g});function Z(t){return Ke(JSON.stringify(t))}var Ze=f(()=>{Ge();});async function Pt(t,e,n,r,o){try{let s=await e.queryRoute(r,{routeId:n,requestContext:o});if(pe(s)){let a=new Headers(s.headers);return a.set("X-Remix-Redirect",a.get("Location")),a.set("X-Remix-Status",s.status),a.delete("Location"),s.headers.get("Set-Cookie")!==null&&a.set("X-Remix-Revalidate","yes"),new Response(null,{status:204,headers:a})}if(q in s){let a=s[q],i=me(a,r.signal),l=a.init||{},u=new Headers(l.headers);return u.set("Content-Type","text/remix-deferred"),l.headers=u,new Response(i,l)}return s}catch(s){if(g(s))return s.headers.set("X-Remix-Catch","yes"),s;let a=500,i=s;return E(s)&&(a=s.status,i=s.error||i),t!==p.Test&&!r.signal.aborted&&console.error(i),t===p.Development&&i instanceof Error?tt(i,a):tt(new Error("Unexpected Server Error"),a)}}function nt(t,e,n){let r=t[e]||t.root,o=E(n)&&(!n.error||n.status===404);return o&&r.module.CatchBoundary||!o&&r.module.ErrorBoundary||!r.parentId?r.id:nt(t,r.parentId,n)}function et(t,e){if(!e.errors)return;let n={};for(let r of Object.keys(e.errors)){let o=e.errors[r],s=nt(t.routes,r,o);n[s]=o}e.errors=n}async function qt(t,e,n,r,o){let s;try{s=await n.query(r,{requestContext:o})}catch(u){return!r.signal.aborted&&t!==p.Test&&console.error(u),new Response(null,{status:500})}if(g(s))return s;e.future.v2_errorBoundary!==!0&&et(e,s);let a=Me(e,s),i={manifest:e.assets,routeModules:He(e.routes),staticHandlerContext:s,serverHandoffString:Z({state:{loaderData:s.loaderData,actionData:s.actionData,errors:z(s.errors)},future:e.future}),future:e.future},l=e.entry.module.default;try{return await l(r,s.statusCode,a,i)}catch(u){s=ce(n.dataRoutes,s,u),e.future.v2_errorBoundary!==!0&&et(e,s),i={...i,staticHandlerContext:s,serverHandoffString:Z({state:{loaderData:s.loaderData,actionData:s.actionData,errors:z(s.errors)},future:e.future})};try{return await l(r,s.statusCode,a,i)}catch(c){return ot(c,t)}}}async function zt(t,e,n,r,o){try{let s=await e.queryRoute(r,{routeId:n,requestContext:o});return qe(g(s),"Expected a Response to be returned from queryRoute"),s}catch(s){return g(s)?(s.headers.set("X-Remix-Catch","yes"),s):ot(s,t)}}async function tt(t,e){return x(await O(t),{status:e,headers:{"X-Remix-Error":"yes"}})}function ot(t,e){e!==p.Test&&console.error(t);let n="Unexpected Server Error";return e!==p.Production&&(n+=`

${String(t)}`),new Response(n,{status:500,headers:{"Content-Type":"text/plain"}})}var rt,st=f(()=>{A();Ie();j();Pe();ze();Be();$e();Ye();I();Ze();rt=(t,e)=>{let n=K(t.routes),r=G(t.routes,t.future),o=je(e)?e:p.Production,s=ue(r);return async function(i,l={}){let u=new URL(i.url),c=Ne(n,u.pathname),d;if(u.searchParams.has("_data")){let m=u.searchParams.get("_data");if(d=await Pt(o,s,m,i,l),t.entry.module.handleDataRequest){let h=c.find(w=>w.route.id==m);d=await t.entry.module.handleDataRequest(d,{context:l,params:h.params,request:i})}}else c&&c[c.length-1].route.module.default==null?d=await zt(o,s,c.slice(-1)[0].route.id,i,l):d=await qt(o,t,s,i,l);return i.method==="HEAD"?new Response(null,{headers:d.headers,status:d.status,statusText:d.statusText}):d}}});function ee(t){return`__flash_${t}__`}function te(t){L(t.isSigned,`The "${t.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://remix.run/utils/cookies#signing-cookies for more information.`)}var T,at,it,re=f(()=>{M();$();T=(t={},e="")=>{let n=new Map(Object.entries(t));return{get id(){return e},get data(){return Object.fromEntries(n)},has(r){return n.has(r)||n.has(ee(r))},get(r){if(n.has(r))return n.get(r);let o=ee(r);if(n.has(o)){let s=n.get(o);return n.delete(o),s}},set(r,o){n.set(r,o)},flash(r,o){n.set(ee(r),o)},unset(r){n.delete(r)}}},at=t=>t!=null&&typeof t.id=="string"&&typeof t.data<"u"&&typeof t.has=="function"&&typeof t.get=="function"&&typeof t.set=="function"&&typeof t.flash=="function"&&typeof t.unset=="function",it=t=>({cookie:e,createData:n,readData:r,updateData:o,deleteData:s})=>{let a=_(e)?e:t(e?.name||"__session",e);return te(a),{async getSession(i,l){let u=i&&await a.parse(i,l),c=u&&await r(u);return T(c||{},u||"")},async commitSession(i,l){let{id:u,data:c}=i;return u?await o(u,c,a.expires):u=await n(c,a.expires),a.serialize(u,l)},async destroySession(i,l){return await s(i.id),a.serialize("",{...l,expires:new Date(0)})}}}});var lt,ut=f(()=>{M();re();lt=t=>({cookie:e}={})=>{let n=_(e)?e:t(e?.name||"__session",e);return te(n),{async getSession(r,o){return T(r&&await n.parse(r,o)||{})},async commitSession(r,o){let s=await n.serialize(r.data,o);if(s.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+s.length);return s},async destroySession(r,o){return n.serialize("",{...o,expires:new Date(0)})}}}});var ct,ft=f(()=>{ct=t=>({cookie:e}={})=>{let n=0,r=new Map;return t({cookie:e,async createData(o,s){let a=(++n).toString();return r.set(a,{data:o,expires:s}),a},async readData(o){if(r.has(o)){let{data:s,expires:a}=r.get(o);if(!a||a>new Date)return s;a&&r.delete(o)}return null},async updateData(o,s,a){r.set(o,{data:s,expires:a})},async deleteData(o){r.delete(o)}})}});var C,ne=f(()=>{C=class extends Error{constructor(e,n){super(`Field "${e}" exceeded upload size of ${n} bytes.`),this.field=e,this.maxBytes=n}}});function dt({filter:t,maxPartSize:e=3e6}={}){return async({filename:n,contentType:r,name:o,data:s})=>{if(t&&!await t({filename:n,contentType:r,name:o}))return;let a=0,i=[];for await(let l of s){if(a+=l.byteLength,a>e)throw new C(o,e);i.push(l)}return typeof n=="string"?new File(i,n,{type:r}):await new Blob(i,{type:r}).text()}}var ht=f(()=>{ne();});var jt={};pt(jt,{MaxPartSizeExceededError:()=>C,createCookieFactory:()=>Se,createCookieSessionStorageFactory:()=>lt,createMemorySessionStorageFactory:()=>ct,createRequestHandler:()=>rt,createSession:()=>T,createSessionStorageFactory:()=>it,defer:()=>de,isCookie:()=>_,isSession:()=>at,json:()=>x,redirect:()=>H,unstable_composeUploadHandlers:()=>Te,unstable_createMemoryUploadHandler:()=>dt,unstable_parseMultipartFormData:()=>Ae});var Bt=f(()=>{M();Oe();I();st();re();ut();ft();ht();ne();});export{jt as a,Bt as b};
